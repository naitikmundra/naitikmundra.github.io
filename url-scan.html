<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberAlley</title>
    <link
      rel="shortcut icon"
      href="/assets/w-logo.png"
      type="image/x-icon"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <link href="css/templatemo-topic-listing.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body style="background-color: black; color: white;">
  
    <main>

    
      <div id="navbar-placeholder"></div>


        <section class="section-padding section-bg" style="height: 100vh;">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <h3 class="mb-4 pb-2" style="margin-left: 33vw; margin-top: 8vh; font-size: 8vh;">Scan URL</h3>
                    </div>

                    <div class="">
                        <form  id="domainForm"  class="custom-form contact-form" role="form">
                            <div class="row">
                                <div class="">
                                    <div class="form-floating" style="margin-left: 24vw; width: 40vw; margin-top: 10vh;">
                                        <input type="text" name="name" id="domainInput" class="form-control" placeholder="https://example.com/" required="" style="border: 4px solid #97d0f3; color: rgb(7, 7, 7);">
                                        
                                        <label for="floatingInput" style="color: black;">Enter URL</label>
                                    </div>
                                </div>
                             </div>
                                <div class="" style="width: 18vw; margin-left: 35vw; margin-top: 5vh;">
                                    <button type="submit" class="form-control" style="background-color: #97d0f3;">Submit</button>
                                </div>

                            </div>
                        </form>
                     <div id="result" style="color:#142f40; margin-top: 30px; margin-left: 8vw; max-width: max-content; background-color: #654304; border-radius: 10px;">
                    <h1></h1>
                    <h1></h1>
                    <h1></h1>
                    <h1></h1>
                    <h1></h1>
                    </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <div id="footer-placeholder"></div>
    <script>
        // Function to fetch safety details for a domain
        async function fetchSafetyDetails(domain) {
            try {
                const response = await fetch(`https://naitikmundra18.pythonanywhere.com/safetyness?domain=${domain}`);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error fetching safety details:', error);
                return { error: 'Error fetching safety details' };
            }
        }

        // Function to handle form submission
        async function handleSubmit(event) {
            event.preventDefault();
            const domain = document.getElementById('domainInput').value;
            const resultDiv = document.getElementById('result');

            resultDiv.textContent = 'Loading...';

            const data = await fetchSafetyDetails(domain);

            if (data.error) {
                resultDiv.textContent = data.error;
            } else {
                resultDiv.textContent = `Safety details for ${domain}:\n\n` +
                    `Suspicious: ${data.suspicious}\n`;
            }
        }

        // Attach event listener to form submission
        const form = document.getElementById('domainForm');
        form.addEventListener('submit', handleSubmit);
    </script>
    <!-- JAVASCRIPT FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/custom.js"></script>
</body>
</html>
